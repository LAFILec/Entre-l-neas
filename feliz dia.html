<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¡Feliz Cumpleaños!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:wght@300;400;600&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            background: radial-gradient(ellipse at center, #0a0a23 0%, #000000 70%);
            min-height: 100vh;
            overflow: hidden;
            cursor: none;
            position: relative;
        }

        .quantum-field {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(30, 144, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 20, 147, 0.1) 0%, transparent 50%);
            animation: quantumShift 12s ease-in-out infinite;
        }

        @keyframes quantumShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(ellipse at center, #0a0a23 0%, #000000 70%);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 1000; transition: all 1.5s ease-out;
        }

        .intro-overlay.hidden { opacity: 0; pointer-events: none; }

        .intro-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 6vw, 4rem);
            background: linear-gradient(135deg, #ff6b9d, #4ecdc4, #45b7d1);
            background-size: 300% 300%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            animation: gradientFlow 4s ease-in-out infinite;
            text-align: center; margin-bottom: 30px;
        }

        .intro-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            text-align: center; line-height: 1.6; margin-bottom: 40px;
            max-width: 600px; padding: 0 20px;
        }

        .start-btn {
            padding: 15px 40px; background: linear-gradient(135deg, #ff6b9d, #4ecdc4);
            border: none; border-radius: 25px; color: white;
            font-size: clamp(1rem, 2.5vw, 1.2rem); font-weight: 600;
            cursor: pointer; transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(255, 107, 157, 0.4);
        }

        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .container {
            width: 100vw; height: 100vh;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            position: relative; z-index: 10;
        }

        .main-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 8vw, 5rem);
            background: linear-gradient(135deg, #ff6b9d, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 300% 300%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            animation: gradientFlow 4s ease-in-out infinite;
            text-align: center; margin-bottom: clamp(20px, 4vh, 40px);
            filter: drop-shadow(0 0 20px rgba(255, 107, 157, 0.3));
        }

        .subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem); color: rgba(255, 255, 255, 0.8);
            text-align: center; margin-bottom: clamp(30px, 6vh, 60px);
            font-weight: 300; letter-spacing: 0.5px;
        }

        .wish-display {
            min-height: clamp(120px, 20vh, 200px); width: clamp(300px, 80vw, 800px);
            display: flex; align-items: center; justify-content: center;
            position: relative; margin-bottom: clamp(30px, 6vh, 50px);
        }

        .wish-text {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.2rem, 4vw, 2rem); color: white;
            text-align: center; line-height: 1.4;
            padding: clamp(20px, 4vw, 40px);
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px; backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            opacity: 0; transform: scale(0.8) translateY(30px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-style: italic; position: relative; overflow: hidden;
        }

        .wish-text.active { opacity: 1; transform: scale(1) translateY(0); }

        .wish-text::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg); animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .interaction-prompt {
            font-size: clamp(0.9rem, 2.5vw, 1.2rem); color: rgba(255, 255, 255, 0.6);
            text-align: center; animation: breathe 3s ease-in-out infinite;
            margin-top: clamp(20px, 4vh, 40px);
        }

        @keyframes breathe {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
        }

        .custom-cursor {
            position: fixed; width: 30px; height: 30px;
            pointer-events: none; z-index: 9999; transition: transform 0.2s ease;
        }

        .cursor-inner {
            width: 100%; height: 100%;
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 50%; position: relative;
            animation: cursorPulse 2s ease-in-out infinite;
        }

        .cursor-inner::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 6px; height: 6px; background: white; border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        @keyframes cursorPulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
        }

        .particle {
            position: absolute; pointer-events: none; border-radius: 50%;
        }

        .energy-wave {
            position: absolute;
            border: 2px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%; pointer-events: none;
            animation: energyExpand 1.5s ease-out forwards;
        }

        @keyframes energyExpand {
            0% { width: 20px; height: 20px; opacity: 1; }
            100% { width: 300px; height: 300px; opacity: 0; }
        }

        .final-message {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; color: white; opacity: 0;
            transition: opacity 1.5s ease-out; z-index: 500; padding: 20px;
        }

        .final-message.visible { opacity: 1; }

        .final-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 6vw, 4rem);
            margin-bottom: 30px;
            background: linear-gradient(135deg, #ff6b9d, #4ecdc4);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            animation: finalGlow 2s ease-in-out infinite alternate;
        }

        @keyframes finalGlow {
            from { filter: drop-shadow(0 0 20px rgba(255, 107, 157, 0.5)); }
            to { filter: drop-shadow(0 0 40px rgba(78, 205, 196, 0.5)); }
        }

        .final-text {
            font-size: clamp(1.1rem, 3vw, 1.5rem);
            line-height: 1.8; font-weight: 300;
            max-width: 700px; margin: 0 auto;
        }

        @media (max-width: 768px) {
            body { cursor: auto; }
            .custom-cursor { display: none; }
        }
    </style>
</head>
<body>
    <div class="intro-overlay" id="introOverlay">
        <h1 class="intro-title">Caja de los Deseos</h1>
        <p class="intro-text">
            Estás a punto de recibir algo pensado solo para ti.<br>
            Un mensaje hecho de buenos deseos,<br>
            listo para acompañarte en este día único.
        </p>
        <button class="start-btn" id="startBtn">Activar Generador</button>
    </div>

    <div class="quantum-field"></div>
    
    <div class="container">
        <h1 class="main-title">Feliz Cumpleaños</h1>
        <p class="subtitle">Tu colección personal de buenos deseos</p>
        
        <div class="wish-display">
            <div class="wish-text" id="wishText">
                Preparando deseos...
            </div>
        </div>
        
        <p class="interaction-prompt" id="prompt">
           Cada clic suma un motivo más para sonreír
        </p>
    </div>

    <div class="custom-cursor" id="cursor">
        <div class="cursor-inner"></div>
    </div>

    <div class="final-message" id="finalMessage">
        <h2 class="final-title">Que todos tus deseos se hagan realidad</h2>
        <p class="final-text">
            Que cada deseo que guardas se transforme en nuevas aventuras.<br>
            Hoy es un día para sonreír, agradecer y soñar en grande.<br><br>
            Que este nuevo año de vida te regale momentos inolvidables<br>
            <strong>y personas que hagan tu historia aún más valiosa.</strong>
        </p>
    </div>

    <script>
        const wishes = [
            "Que cada amanecer traiga nuevas oportunidades a tu vida",
            "Encuentra alegría en los momentos más sencillos",
            "Que tus sueños se conviertan en planes y tus planes en realidad",
            "Lleva la felicidad contigo en cada paso",
            "Que cada desafío te haga más fuerte y más sabio",
            "Que el amor que das regrese a ti multiplicado",
            "Que descubras nuevos talentos y pasiones que te inspiren",
            "Que tengas la valentía de crear tu propio destino",
            "Que cada día sea una página nueva de tu historia extraordinaria",
            "Que la magia de este momento te acompañe siempre",
            "Disfruta de la salud que te permite vivir lo que amas",
            "Que cada paso que des te acerque a tu mejor versión",
            "Atrévete a vivir experiencias que amplíen tus horizontes"
        ];

        let currentWishIndex = 0, particles = [], audioContext, gameStarted = false;

        class Particle {
            constructor(x, y) {
                this.x = x; this.y = y;
                this.vx = (Math.random() - 0.5) * 8;
                this.vy = (Math.random() - 0.5) * 8;
                this.life = 120; this.maxLife = 120;
                this.size = Math.random() * 6 + 2;
                this.color = ['#ff6b9d', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'][Math.floor(Math.random() * 5)];
                this.gravity = 0.05;
                this.createElement();
            }

            createElement() {
                this.element = document.createElement('div');
                this.element.className = 'particle';
                this.element.style.cssText = `
                    left: ${this.x}px; top: ${this.y}px;
                    width: ${this.size}px; height: ${this.size}px;
                    background: ${this.color};
                    box-shadow: 0 0 ${this.size * 2}px ${this.color};
                `;
                document.body.appendChild(this.element);
            }

            update() {
                this.x += this.vx; this.y += this.vy;
                this.vy += this.gravity; this.life--;
                
                const opacity = this.life / this.maxLife;
                const scale = 0.5 + (this.life / this.maxLife) * 0.5;

                if (this.element) {
                    this.element.style.cssText += `
                        left: ${this.x}px; top: ${this.y}px;
                        opacity: ${opacity}; transform: scale(${scale});
                    `;
                }
                return this.life > 0;
            }

            destroy() {
                if (this.element?.parentNode) this.element.parentNode.removeChild(this.element);
            }
        }

        function createEnergyWave(x, y) {
            const wave = document.createElement('div');
            wave.className = 'energy-wave';
            wave.style.cssText = `left: ${x-10}px; top: ${y-10}px; width: 20px; height: 20px;`;
            document.body.appendChild(wave);
            setTimeout(() => wave.parentNode?.removeChild(wave), 1500);
        }

        function createParticleExplosion(x, y) {
            for (let i = 0; i < 25; i++) particles.push(new Particle(x, y));
        }

        function generateSound() {
            if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            const freq = [523, 659, 784, 880, 1047][Math.floor(Math.random() * 5)];
            osc.frequency.setValueAtTime(freq, audioContext.currentTime);
            osc.frequency.exponentialRampToValueAtTime(freq * 1.5, audioContext.currentTime + 0.1);
            
            gain.gain.setValueAtTime(0, audioContext.currentTime);
            gain.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + 0.01);
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
            
            osc.start(); osc.stop(audioContext.currentTime + 0.5);
        }

        function showWish() {
            const wishElement = document.getElementById('wishText');
            const promptElement = document.getElementById('prompt');
            
            if (currentWishIndex < wishes.length) {
                wishElement.classList.remove('active');
                
                setTimeout(() => {
                    wishElement.textContent = wishes[currentWishIndex];
                    wishElement.classList.add('active');
                    currentWishIndex++;
                    generateSound();
                    
                    if (currentWishIndex >= wishes.length) {
                        setTimeout(() => {
                            promptElement.style.display = 'none';
                            document.querySelector('.container').style.display = 'none';
                            document.getElementById('finalMessage').classList.add('visible');
                        }, 2500);
                    }
                }, 400);
            }
        }

        function updateParticles() {
            particles = particles.filter(particle => {
                if (particle.update()) return true;
                particle.destroy();
                return false;
            });
        }

        function handleInteraction(x, y) {
            if (!gameStarted) return;
            createEnergyWave(x, y);
            createParticleExplosion(x, y);
            showWish();

            const cursor = document.getElementById('cursor');
            cursor.style.transform = 'scale(1.5)';
            setTimeout(() => cursor.style.transform = 'scale(1)', 150);
        }

        document.getElementById('startBtn').addEventListener('click', () => {
            document.getElementById('introOverlay').classList.add('hidden');
            gameStarted = true;
            setTimeout(() => document.getElementById('wishText').classList.add('active'), 1000);
        });

        document.addEventListener('mousemove', (e) => {
            const cursor = document.getElementById('cursor');
            cursor.style.left = (e.clientX - 15) + 'px';
            cursor.style.top = (e.clientY - 15) + 'px';
        });

        document.addEventListener('click', (e) => handleInteraction(e.clientX, e.clientY));
        document.addEventListener('touchend', (e) => {
            if (e.changedTouches.length > 0) {
                const touch = e.changedTouches[0];
                handleInteraction(touch.clientX, touch.clientY);
            }
        });

        function animate() {
            updateParticles();
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
